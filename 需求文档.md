# 需求文档
// created by medyg
// encode in utf-8

## 一、概述

该项目为狼人杀online，是一个可以让多个玩家在线游玩狼人杀游戏的项目，本游戏具备一个MC，并且由系统执行游戏流程，玩家只负责发言、投票、选取目标等动作

* 玩家发言暂时在另外的平台进行

鉴于目前没有一个符合我个人以及朋友们的预期的狼人杀ol，且线下组织比较吃力，因此我们将着力于开发一个网页狼人杀

## 二、需求

### 功能性需求：

1. 由系统充当MC，具备分发身份，主持游戏流程（流程详见本文的游戏规则说明，流程提示在屏幕上用文字显示，如天黑请闭眼、狼人请睁眼），判断游戏状态（是否结束游戏）等功能

2. 由一个用户创建房间（房间属性在创建时设定，也可创建后修改），然后其他玩家加入该房间就坐，房主决定是否开始游戏（需满足设定人数才可开始）

3. 游戏开始后，玩家确认自己身份，神身份的玩家在屏幕上有技能button，在适当的时候可以发动，发动时若时指向性技能则应选取目标，若是白天发动，则系统显示该玩家身份并说明发动技能情况，晚上发动则不公屏显示

4. 关于狼人：狼人玩家有一个独立的聊天板块，在狼人阶段开放交流，仅限文字（已经出局的狼人不得交流），应有个位置让存活的狼人选择目标，所有存活的狼人的目标一致时确认目标并结束狼人阶段

**欢迎补充更多

### 非功能性需求：

**欢迎补充更多

### 约束：

1. 计时器：为防止挂机影响游戏体验，各阶段设置时限，可在房间属性修改

**欢迎补充更多

## 三、游戏规则

### 狼人杀-上帝流程
所有人围坐

##### 天黑：

>狼人阶段，确认队友，统一意见杀一个人。（可以自刀、空刀，有时间限制讨论）

>女巫阶段，某人死了，是否使用救针（第一晚女巫可以自救；女巫在用了救针之后，上帝是不会再告诉女巫谁被杀了），是否使用毒针

>预言家阶段，指定一个人验他的身份。（上帝只能告诉预言家他要验的人是好人或者是狼人，不能告诉他是什么身份）

##### 天亮：

>警长竞选阶段（警长1.5票，只有第一次天亮有警长竞选阶段），确认所有竞选玩家后，上帝随机选一个人开始进行竞选警长的发言（顺序随机）。竞选过程中参与竞选的玩家可以退水。（退水的玩家不可以投票，如果平票则平票玩家进行PK发言，然后进行第二轮警长投票，除了PK的玩家都可以投票。若第二轮继续平票，警徽作废，进入下一阶段）

>发言阶段，首先宣布昨晚的死讯，首夜死去的玩家有遗言，遗言结束由警长选择发言顺序

>发言完毕进行投票，最高票的人放逐，被放逐的人有遗言，如果平票进行PK发言，若再次平票则本轮没有玩家出局

##### 天黑：

>各阶段按首夜的顺序重复

##### 天亮……

## 注意事项：
1. 猎人除了被毒死之外，都可以发动技能<br>
2. 警长死后可以选择撕警徽或者把警徽给其他玩家，撕了警徽后就没有警长了<br>
3. 屠边规则：狼人杀完所有平民或者所有神民则狼人胜利，所有狼人出局则好人胜利。当狼人数目和好人数目一样则狼人胜利<br>
4. 白痴被放逐后不算出局，但不能参与投票<br>
5. 晚上每一个阶段都有时间限制<br>
6. 从游戏中的角度，每一轮的票型要公布出来（此项待议）<br>

